






<!doctype html>
<html>
<head>
<title>maven项目spring-mvc创建web后端返回json格式数据项目创建全流程_comonly.cn</title>
<meta name="keywords" content="maven项目spring-mvc创建web后端返回json格式数据项目创建全流程" />
<meta name="description" content="java web项目，通过spring-mvc实现文章相关操作。包括：
文章增、改、查、删。返回json类型数据。


	


	
		maven创建一个简单的web项目【l-1515】
	
	
		pom.xml添加依赖
	
	
		src/main/resources 目录下创建spring-mvc.xml文件
	
	
		修改src/main/webapp/WEB-INF目录下web.xml文件
	
	
		建立src/main下src/main/java目录" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="/css/css_yangqingqing.css" rel="stylesheet">
</head>
<body>
<div class="box">
 <div class="blank"></div>
 <div class="infosbox">
    <div class="newsview">
      <h3 class="news_title">maven项目spring-mvc创建web后端返回json格式数据项目创建全流程</h3>
      <div class="bloginfo">
        <ul>
          <li class="author"></li>
          <li class="lmname"><a href="" target="_blank"></a></li>
          <li class="timer">2019-10-24</li>
          	
         
          
          <!-- origin -->
		  <li class="view">
 

	工程详细_各项目设计文档
 	  	
		  </li>		  
		  <li class="view">公开</li>

 
          <!-- 
          <li class="view">4567已阅读</li>
          <li class="like">8888888</li>
           -->
        </ul>
      </div>
      
      
        <div class="news_about"><strong>简介</strong>java web项目，通过spring-mvc实现文章相关操作。包括：
文章增、改、查、删。返回json类型数据。


	


	
		maven创建一个简单的web项目【l-1515】
	
	
		pom.xml添加依赖
	
	
		src/main/resources 目录下创建spring-mvc.xml文件
	
	
		修改src/main/webapp/WEB-INF目录下web.xml文件
	
	
		建立src/main下src/main/java目录</div>
      
      <!-- <div class="news_con"> -->
      <div class="realContent_kindeditor"> <p>
	java web项目，通过spring-mvc实现文章相关操作。包括：<br />
文章增、改、查、删。返回json类型数据。
</p>
<p>
	<br />
</p>
<ol>
	<li>
		maven创建一个简单的web项目【<a href="/l/p/1515.html" target="_blank">l-1515</a>】
	</li>
	<li>
		pom.xml添加依赖
	</li>
	<li>
		src/main/resources 目录下创建spring-mvc.xml文件
	</li>
	<li>
		修改src/main/webapp/WEB-INF目录下web.xml文件
	</li>
	<li>
		建立src/main下src/main/java目录，并创建包
	</li>
</ol>
<p>
	<br />
</p>
<p>
	需要创建的项目文件：
</p>
<p>
	<br />
</p>
<p>
	controller
</p>
<p>
	PassageController.java
</p>
<p>
	service
</p>
<p>
	PassageService.java
</p>
<p>
	PassageServiceImpl.java
</p>
<p>
	dao
</p>
<p>
	PassageDao.java
</p>
<p>
	pojo
</p>
<p>
	Passage.java
</p>
<p>
	<br />
</p>
<p>
	github上有实现的源码：<a href="https://github.com/comonly/javaweb_blog/tree/master/blog_spring_backend" target="_blank">https://github.com/comonly/javaweb_blog/tree/master/blog_spring_backend</a> 
</p></div>
      <!-- 
      <p class="diggit">
        <a href="JavaScript:makeRequest('/e/public/digg/?classid=3&amp;id=19&amp;dotop=1&amp;doajax=1&amp;ajaxarea=diggnum','EchoReturnedText','GET','');"> 很赞哦！ </a>(<b id="diggnum"><script type="text/javascript" src="/e/public/ViewClick/?classid=2&amp;id=20&amp;down=5"></script>13</b>)
      </p>
       -->

    </div>
    
    <div class="nextinfo">
      
        
        
            <p>上一篇：<a href="/p/1127.html">eclipse 创建 maven 项目（web项目）</a></p>
        
        
      
      
        
        
            <p>下一篇：<a href="/p/1129.html">vue项目搭建通过vue-cli包括组件路由的使用实现基本的前端项目全流程</a></p>
        
      
    </div>
    
    <!-- 转载声明 -->
    
	
	<div><!-- 添加新的评论 -->
		
   
		
		<div class="news_pl">
		    <h2>文章评论</h2>	
		  	
				<ul>
					<div class="gbko">
						<span id="pom.xml文件">
							<h2 style="display:inline;color:#5BC648;">pom.xml文件</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;chencheng.vip&lt;/groupId&gt;
  &lt;artifactId&gt;blog_spring_backend&lt;/artifactId&gt;
  &lt;packaging&gt;war&lt;/packaging&gt;
  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;blog_spring_backend Maven Webapp&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;
  
  &lt;properties&gt;
    &lt;!-- Spring版本号 --&gt;
    &lt;spring.version&gt;4.3.8.RELEASE&lt;/spring.version&gt;
  &lt;/properties&gt;
  &lt;dependencies&gt;
    &lt;!-- Spring相关包 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- MySQL相关包 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.15&lt;/version&gt;
    &lt;/dependency&gt;
       
    &lt;!-- 将返回的对象解析成json格式 --&gt;      
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
      &lt;version&gt;2.5.4&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
      &lt;version&gt;2.5.4&lt;/version&gt;
    &lt;/dependency&gt;
	 &lt;dependency&gt;
	    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
	    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;
	    &lt;version&gt;2.5.4&lt;/version&gt;
	&lt;/dependency&gt;
	
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;finalName&gt;blog_spring_backend&lt;/finalName&gt;
  &lt;/build&gt;
&lt;/project&gt;
</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="spring-mvc.xml">
							<h2 style="display:inline;color:#5BC648;">spring-mvc.xml</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt;

    &lt;!-- 启动自动扫描 --&gt;
    &lt;context:component-scan base-package="cn.comonly.*" /&gt;

    &lt;!-- 注册MVC注解驱动 --&gt;
    &lt;mvc:annotation-driven /&gt;
 	

    &lt;!-- 静态资源可访问的设置方式 --&gt;
    &lt;mvc:default-servlet-handler /&gt;

    &lt;!-- 配置视图解析器，可以显式设置，也可以不设置，不设置会依据SpringMVC的默认设置 --&gt;
    &lt;bean id="viewResolver"
        class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
        &lt;property name="prefix" value="/" /&gt;
        &lt;property name="suffix" value=".jsp" /&gt;
    &lt;/bean&gt;
&lt;/beans&gt;</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="web.xml">
							<h2 style="display:inline;color:#5BC648;">web.xml</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5"&gt;

    &lt;!-- 指定Spring配置文件位置 --&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:spring-*.xml&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;!-- 注册ServletContext监听器 --&gt;
    &lt;listener&gt;
        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
    &lt;/listener&gt;
    

    &lt;!-- 注册字符集过滤器 --&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
        &lt;!-- 指定字符集编码 --&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;encoding&lt;/param-name&gt;
            &lt;param-value&gt;utf-8&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;
    
    &lt;!-- 解决跨域 --&gt;
    &lt;filter&gt;
	       &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;
	       &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;
	       &lt;init-param&gt;
	            &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;
	            &lt;param-value&gt;
	                http://localhost:8080,
	                http://localhost:8081
	            &lt;/param-value&gt;
	        &lt;/init-param&gt;
	        &lt;init-param&gt;
	            &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;
	            &lt;param-value&gt;
	                GET,POST,HEAD,OPTIONS,PUT
	            &lt;/param-value&gt;
	        &lt;/init-param&gt;
	        &lt;init-param&gt;
	            &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;
	            &lt;param-value&gt;
	                Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers,Access-Control-Allow-Origin
	            &lt;/param-value&gt;
	        &lt;/init-param&gt;
	&lt;/filter&gt;    

	&lt;filter-mapping&gt;
	       &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;
	       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
	&lt;/filter-mapping&gt;

    &lt;!-- 注册前端控制器 --&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
            &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="PassageController.java">
							<h2 style="display:inline;color:#5BC648;">PassageController.java</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-java">package cn.comonly.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import cn.comonly.pojo.Passage;
import cn.comonly.service.PassageService;

@Controller
@RequestMapping(value = "/passage")
public class PassageController {
	
	@Autowired 
	private PassageService passageService;
	
	//获取文章列表
	@RequestMapping(value = "/passIndex", method = RequestMethod.GET)
    public @ResponseBody List&lt;Passage&gt; passIndex() {
    	return passageService.passIndex();
    }
	
	//获取单个文章
	@RequestMapping(value = "/passDetail", method = RequestMethod.GET)
    public @ResponseBody Passage passDetail(int id) {
    	return passageService.passDetail(id);
    }

	//提交单个文章修改
	@RequestMapping(value = "/passChangeSubmit", method = RequestMethod.POST)
    public @ResponseBody int passChangeSubmit(@RequestBody Passage passage) {
    	return passageService.passChangeSubmit(passage);
    }

	//添加单个文章
	@RequestMapping(value = "/passAddSubmit", method = RequestMethod.POST)
    public @ResponseBody int passAddSubmit(@RequestBody Passage passage) {
    	return passageService.passAddSubmit(passage);
    }
	
	//添加单个文章
	@RequestMapping(value = "/passDelete", method = RequestMethod.GET)
    public @ResponseBody int passAddSubmit(int id) {
    	return passageService.passDelete(id);
    }
	
	//@RequestMapping(value = "/passChange", method = RequestMethod.GET)
	//直接获取passDetail即可

	//@RequestMapping(value = "/passAdd", method = RequestMethod.GET)
	//获取分类列表即可

}
</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="PassageService.java">
							<h2 style="display:inline;color:#5BC648;">PassageService.java</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-java">package cn.comonly.service;

import java.util.List;

import cn.comonly.pojo.Passage;

public interface PassageService {

	List&lt;Passage&gt; passIndex();

	Passage passDetail(int id);

	int passChangeSubmit(Passage passage);

	int passAddSubmit(Passage passage);

	int passDelete(int id);

}
</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="PassageServiceImpl.java">
							<h2 style="display:inline;color:#5BC648;">PassageServiceImpl.java</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-java">package cn.comonly.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import cn.comonly.dao.PassageDao;
import cn.comonly.pojo.Passage;

@Service
public class PassageServiceImpl implements PassageService {

	@Autowired 
	private PassageDao passageDao;
	
	public List&lt;Passage&gt; passIndex() {
		return passageDao.getPassageList("select * from pass_passage");
	}

	public Passage passDetail(int id) {
		return passageDao.getPassageById(id);
	}

	public int passChangeSubmit(Passage passage) {

		passageDao.changePassage(passage.getPnumber(), passage.getPtitle(), passage.getPimage(), passage.getPlabel(), passage.getPcount(), 
				passage.getPcoming(), passage.getPcomingUrl(), passage.getPkind(), passage.getPbelong());
		return 0;
	}

	public int passAddSubmit(Passage passage) {
		passageDao.addPassage(passage.getPtitle(), passage.getPimage(), passage.getPlabel(), passage.getPcount(), passage.getPcoming(), 
				passage.getPcomingUrl(), passage.getPkind(), passage.getPbelong());
		return 0;
	}

	public int passDelete(int id) {
		passageDao.deletePassage(id);
		return 0;
	}

}</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="PassageDao.java">
							<h2 style="display:inline;color:#5BC648;">PassageDao.java</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-java">package cn.comonly.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import java.sql.Timestamp;
import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Component;

import cn.comonly.connectionDatabase.DBUtilConnection;
import cn.comonly.pojo.Passage;

@Component
public class PassageDao {
	private Connection conn=null;
	private Statement stmt=null;
	private PreparedStatement pstmt=null;
	private ResultSet rs=null;


	public List&lt;Passage&gt; getPassageList(String sql){
		List&lt;Passage&gt; pass_passageInfoList=new ArrayList&lt;Passage&gt;();
		try {
			
			conn=DBUtilConnection.getConnectionImportData();
			stmt = conn.createStatement();
			rs = stmt.executeQuery(sql);
			while (rs.next()){
				Passage pass_passageInfo=new Passage();
				pass_passageInfo.setPnumber(rs.getInt(1));
				pass_passageInfo.setPtitle(rs.getString(2));
				pass_passageInfo.setPtime(rs.getDate(3));
				pass_passageInfo.setPlabel(rs.getString(4));
				pass_passageInfo.setPcount(rs.getString(5));
				pass_passageInfo.setPcoming(rs.getString(6));
				pass_passageInfo.setPcomingUrl(rs.getString(7));
				pass_passageInfo.setPimage(rs.getString(8));
				pass_passageInfo.setPkind(rs.getInt(9));
				pass_passageInfo.setPbelong(rs.getInt(10));
				pass_passageInfo.setPdescribe(rs.getString(11));

				pass_passageInfoList.add(pass_passageInfo);
			}
		} catch (Exception e) {
			System.out.println(e);
			return null;
		}finally{
			DBUtilConnection.closeAll(rs, stmt, null, conn);
		}
		
		return pass_passageInfoList;
	}

	/*通过id获得一个文章信息*/
	public Passage getPassageById(int pnumber) {
		String sql="select * from pass_passage where Pnumber="+pnumber;
		conn=DBUtilConnection.getConnectionImportData();
		Passage pass_passageInfo=new Passage();
		try {
			stmt = conn.createStatement();
			rs = stmt.executeQuery(sql);
			rs.next();
			pass_passageInfo.setPnumber(rs.getInt(1));
			pass_passageInfo.setPtitle(rs.getString(2));
			pass_passageInfo.setPtime(rs.getDate(3));
			pass_passageInfo.setPlabel(rs.getString(4));
			pass_passageInfo.setPcount(rs.getString(5));
			pass_passageInfo.setPcoming(rs.getString(6));
			pass_passageInfo.setPcomingUrl(rs.getString(7));
			pass_passageInfo.setPimage(rs.getString(8));
			pass_passageInfo.setPkind(rs.getInt(9));
			pass_passageInfo.setPbelong(rs.getInt(10));
			pass_passageInfo.setPdescribe(rs.getString(11));

			
		} catch (Exception e) {
			System.out.println(e);
			return null;
		}finally{
			DBUtilConnection.closeAll(rs, stmt, null, conn);
		}
		return pass_passageInfo;
	}

	/*修改文章信息*/
	public void changePassage(int number, String title, String image,
			String keyword, String content, String coming, String comingUrl,
			int pass_passageKind,int pbelong) {
		conn=DBUtilConnection.getConnectionImportData();
		String sql="update pass_passage set Ptitle=?,Plabel=?,Pcount=?,Pcoming=?,PcomingUrl=?,Pimage=?,Pkind=?,Pbelong=?,Pdescribe=? where Pnumber=?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, title);
			pstmt.setString(2, keyword);
			pstmt.setString(3, content);
			pstmt.setString(4, coming);
			pstmt.setString(5, comingUrl);
			pstmt.setString(6, image);
			pstmt.setInt(7, pass_passageKind);
			pstmt.setInt(8, pbelong);
			pstmt.setString(9, "");
			pstmt.setInt(10,number);
			pstmt.executeUpdate();
			
		} catch (Exception e) {System.out.println(e);
		}finally{
			DBUtilConnection.closeAll(null, null, pstmt, conn);
		}
	}

	/*新增信息*/
	public void addPassage(String title, String image, String keyword,
			String content, String coming, String comingUrl, int pass_passageKind,int passageBelong) {
		conn=DBUtilConnection.getConnectionImportData();
		Timestamp ctime = new java.sql.Timestamp(new java.util.Date().getTime());
		
		String sql="insert into pass_passage(Ptitle,Plabel,Pcount,Pcoming,PcomingUrl,Pimage,Pkind,Ptime,Pbelong,Pdescribe) values(?,?,?,?,?,?,?,?,?,?)";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, title);
			pstmt.setString(2, keyword);
			pstmt.setString(3, content);
			pstmt.setString(4, coming);
			pstmt.setString(5, comingUrl);
			pstmt.setString(6, image);
			pstmt.setInt(7, pass_passageKind);
			pstmt.setTimestamp(8, ctime);
			pstmt.setInt(9, passageBelong);
			pstmt.setString(10, "");
			pstmt.executeUpdate();
		} catch (Exception e) {
			System.out.println(e);
		}finally{
			DBUtilConnection.closeAll(null, null, pstmt, conn);
		}
	}


	public void deletePassage(int number) {
		conn=DBUtilConnection.getConnectionImportData();
		String sql="delete from pass_passage where Pnumber=?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setInt(1,number);
			pstmt.executeUpdate();
			
		} catch (Exception e) {System.out.println(e);
		}finally{
			DBUtilConnection.closeAll(null, null, pstmt, conn);
		}
	}

}
</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
				<ul>
					<div class="gbko">
						<span id="Passage.java">
							<h2 style="display:inline;color:#5BC648;">Passage.java</h2>
							&nbsp;&nbsp;&nbsp;&nbsp;2019-10-24&nbsp;&nbsp;&nbsp;&nbsp;
								
						</span><!-- 标题，时间 -->
						
						<br/>
						<span><pre class="prettyprint lang-java">package cn.comonly.pojo;

import java.util.Date;

public class Passage {
	
	int pnumber;
	String ptitle;
	Date ptime;
	String plabel;
	String pcount;
	String pcoming;
	String pcomingUrl;
	String pimage;
	int pkind;
	int pbelong;
	String pdescribe;
	
	public int getPnumber() {
		return pnumber;
	}
	public void setPnumber(int pnumber) {
		this.pnumber = pnumber;
	}
	public String getPtitle() {
		return ptitle;
	}
	public void setPtitle(String ptitle) {
		this.ptitle = ptitle;
	}
	public Date getPtime() {
		return ptime;
	}
	public void setPtime(Date ptime) {
		this.ptime = ptime;
	}
	public String getPlabel() {
		return plabel;
	}
	public void setPlabel(String plabel) {
		this.plabel = plabel;
	}
	public String getPcount() {
		return pcount;
	}
	public void setPcount(String pcount) {
		this.pcount = pcount;
	}
	public String getPcoming() {
		return pcoming;
	}
	public void setPcoming(String pcoming) {
		this.pcoming = pcoming;
	}
	public String getPcomingUrl() {
		return pcomingUrl;
	}
	public void setPcomingUrl(String pcomingUrl) {
		this.pcomingUrl = pcomingUrl;
	}
	public String getPimage() {
		return pimage;
	}
	public void setPimage(String pimage) {
		this.pimage = pimage;
	}
	public int getPkind() {
		return pkind;
	}
	public void setPkind(int pkind) {
		this.pkind = pkind;
	}
	public int getPbelong() {
		return pbelong;
	}
	public void setPbelong(int pbelong) {
		this.pbelong = pbelong;
	}
	public String getPdescribe() {
		return pdescribe;
	}
	public void setPdescribe(String pdescribe) {
		this.pdescribe = pdescribe;
	}
	
}
</pre></span><!-- 内容 -->
					</div>
	      		</ul>
			
		</div>
	
	</div>

 
 		
	</div>

</div>

<div class="blank"></div>

	<div  style="position: fixed;display: float;top: 2px;right: 2px;width: 200px;"><!-- 评论部分 -->

		<!---->
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#"></a></span><!-- 标题列表，快速查看-->
			</div>
		
		
	
		评论列表
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#pom.xml文件">pom.xml文件</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#spring-mvc.xml">spring-mvc.xml</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#web.xml">web.xml</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#PassageController.java">PassageController.java</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#PassageService.java">PassageService.java</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#PassageServiceImpl.java">PassageServiceImpl.java</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#PassageDao.java">PassageDao.java</a></span><!-- 标题列表，快速查看-->
			</div>
		
			<div>
				<span style="display:block;margin:10px;"><a style="text-decoration:none;color:#5BC648;" href="#Passage.java">Passage.java</a></span><!-- 标题列表，快速查看-->
			</div>
		
	</div>

	<link href="/extends/kindeditor-4.1.10/plugins/code/prettify.css" rel="stylesheet" type="text/css"></script>
	<script charset="utf-8" src="/extends/kindeditor-4.1.10/plugins/code/prettify.js"></script>
	<script type="text/javascript">
	prettyPrint();
	</script>

<!-- 显示访问记录 -->

	<footer>
		<!-- 底部居中的 -->
		<p>Copyright © <a href="http://comonly.cn/" target="_blank">comonly.cn</a> </p>
		<p>备案号：<a href="http://www.miitbeian.gov.cn/">鄂ICP备16003690号-3</a></p>
		<div class="cnzz_bot">
			<style>
			.cnzz_bot img{
			    margin:0 auto;
			}
			</style>
			<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1277884732'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/z_stat.php%3Fid%3D1277884732%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
		</div>
	</footer>

 
</body>
</html>
